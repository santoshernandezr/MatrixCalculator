#:import utils kivy.utils

WindowManager:
    MainWindow:
    InverseWindow:
    TransposeWindow:
    RowReduceWindow:
    AdditionWindow:
    SubtractionWindow:
    MultiplicationWindow:

<MainWindow>:
    name: "main"
    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        GridLayout:
            cols: 2
            pos_hint: {"top": .8, "left": 1}
            size_hint: 1, .8
            ImageButton:
                source: "images/test.png"
                on_press: 
                    app.root.current = "addition"
                    root.manager.transition.direction = "left"
            ImageButton:
                source: "images/test4.png"
                on_press: 
                    app.root.current = "RowReduce"
                    root.manager.transition.direction = "left"
            ImageButton:
                source: "images/test2.png"
                on_press: 
                    app.root.current = "subtraction"
                    root.manager.transition.direction = "left"
            ImageButton:
                source: "images/test5.png"
                on_press: 
                    app.root.current = "transpose"
                    root.manager.transition.direction = "left"
            ImageButton:
                source: "images/test3.png"
                on_press: 
                    app.root.current = "multiplication"
                    root.manager.transition.direction = "left"
            ImageButton:
                source: "images/test6.png"
                on_press: 
                    app.root.current = "inverse"
                    root.manager.transition.direction = "left"

<InverseWindow>:
    name: "inverse"
    invCols: invCols
    invRows: invRows

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: invCols
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows:"
            pos_hint: {"center_x": .3925, "center_y": 0.5}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: invRows
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeInvGrid()

<TransposeWindow>:
    name: "transpose"
    transCols: transCols
    transRows: transRows

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: transCols
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows:"
            pos_hint: {"center_x": .3925, "center_y": 0.5}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: transRows
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeTransposeGrid()

<RowReduceWindow>:
    name: "RowReduce"
    reduceCols: reduceCols
    reduceRows: reduceRows

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: reduceCols
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows:"
            pos_hint: {"center_x": .3925, "center_y": 0.5}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: reduceRows
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeRowReduceGrid()

<AdditionWindow>:
    name: "addition"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: colsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.6}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.625}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False

        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.5}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: colsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.4}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.425}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False 
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeAddGrid()
    
<SubtractionWindow>:
    name: "subtraction"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: colsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.6}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.625}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False

        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.5}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: colsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.4}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.425}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False 
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeSubGrid()

<MultiplicationWindow>:
    name: "multiplication"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        GridLayout:
            rows: 1
            pos_hint: {"top": 1, "left": 1}
            size_hint: 1, .2
            Label: 
                text: "Matrix Calculator"
                pos_hint: {"top":1.43, "left": 1}
                font_name: "Rubik"
                font_size: self.width/16
        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.7}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: colsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.725}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.6}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix1
            pos_hint: {"center_x": 0.7, "top": 0.625}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False

        Label:
            text: "Columns1:"
            pos_hint: {"center_x": .35, "center_y": 0.5}
            size_hint: 0.65, .3
            font_size: self.width/12
        TextInput:
            id: colsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.525}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False  
        Label:
            text: "Rows1:"
            pos_hint: {"center_x": .3925, "center_y": 0.4}
            size_hint: 0.65, .3
            font_name: "Rubik"
            font_size: self.width/12
        TextInput:
            id: rowsMatrix2
            pos_hint: {"center_x": 0.7, "top": 0.425}
            size_hint: 0.4, 0.06
            font_name: "Rubik"
            font_size: (root.width ** 2 + root.height ** 2) / 12 ** 4
            multiline: False 
        GridLayout:
            rows: 1
            pos_hint: {"top": .2, "left": 1}
            size_hint: 1, .2
            ImageButton: 
                source: "images/backIcon.png"
                on_press: 
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
            ImageButton: 
                source: "images/forwardIcon.png"
                on_press: root.makeMultGrid()
