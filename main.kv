#:import utils kivy.utils

WindowManager:
    MainWindow:
    InverseWindow:
    TransposeWindow:
    RowReduceWindow:
    AdditionWindow:
    SubtractionWindow:
    MultiplicationWindow:
    ThirdWindow:

<MainWindow>:
    name: "main"
    Image:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#2D2926FF")
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            font_name: "Rubik"
            color: utils.get_color_from_hex("#FCF6F5FF")
            font_size: self.width/20
        ImageButton:
            source: "images/addIcon.png"
            pos_hint: {"center_x": .25, "center_y": .75}
            size_hint: 1, 1
            on_release: 
                app.root.current = "addition"
                root.manager.transition.direction = "left"
        ImageButton:
            source: "images/minusIcon.png"
            pos_hint: {"center_x": .25, "center_y": .45}
            size_hint: 0.35, 0.15
            on_release: 
                app.root.current = "subtraction"
                root.manager.transition.direction = "left"
        ImageButton:
            source: "images/multiplicationIcon.png"
            pos_hint: {"center_x": .25, "center_y": .15}
            size_hint: 0.35, 0.15
            on_release: 
                app.root.current = "multiplication"
                root.manager.transition.direction = "left"
        ImageButton:
            source: "images/RREFIcon.png"
            pos_hint: {"center_x": .75, "center_y": .75}
            size_hint: 0.35, 0.15
            on_release: 
                app.root.current = "RowReduce"
                root.manager.transition.direction = "left"
        ImageButton:
            source: "images/transposeIcon.png"
            pos_hint: {"center_x": .75, "center_y": .45}
            size_hint: 0.35, 0.15
            on_release: 
                app.root.current = "transpose"
                root.manager.transition.direction = "left"
        ImageButton:
            source: "images/inverseIcon.png"
            pos_hint: {"center_x": .75, "center_y": .15}
            size_hint: 0.35, 0.15
            on_release: 
                app.root.current = "inverse"
                root.manager.transition.direction = "left"

<InverseWindow>:
    name: "inverse"
    invCols: invCols
    invRows: invRows

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"
    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns:"
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.75}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: invCols
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.72}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows:"
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.5}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: invRows
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.48}
            size_hint: 0.4, 0.06
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeInvGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"

<TransposeWindow>:
    name: "transpose"
    transCols: transCols
    transRows: transRows

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns:"
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.75}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: transCols
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.72}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows:"
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.5}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: transRows
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.48}
            size_hint: 0.4, 0.06
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeTransposeGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"

<RowReduceWindow>:
    name: "RowReduce"
    reduceCols: reduceCols
    reduceRows: reduceRows

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns:"
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.75}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: reduceCols
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.72}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows:"
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.5}
            font_size: (root.width ** 2 + root.height ** 2) / 14 ** 4

        TextInput:
            id: reduceRows
            font_size: (root.width ** 2 + root.height ** 2) / 14.5 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.48}
            size_hint: 0.4, 0.06
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeRowReduceGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"

<AdditionWindow>:
    name: "addition"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns of 1st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.83}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.8}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.67}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.65}
            size_hint: 0.4, 0.06

        Label:
            text: "Columns of 2st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.53}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.5}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.37}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.35}
            size_hint: 0.4, 0.06
            
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeAddGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"

<SubtractionWindow>:
    name: "subtraction"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns of 1st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.83}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.8}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.67}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.65}
            size_hint: 0.4, 0.06

        Label:
            text: "Columns of 2st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.53}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.5}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.37}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.35}
            size_hint: 0.4, 0.06
            
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeSubGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"

<MultiplicationWindow>:
    name: "multiplication"
    colsMatrix1: colsMatrix1
    rowsMatrix1: rowsMatrix1
    colsMatrix2: colsMatrix2
    rowsMatrix2: rowsMatrix2

    Image:
        canvas:
            Rectangle:
                pos: self.pos
                size: self.size
                source: "images/MainWindow.png"

    FloatLayout:
        Label: 
            text: "MATRIX CALCULATOR"
            pos_hint: {"top":1.45, "left": 1}
            # font_name: "Rubik"
            font_name: "Pacifico"
            color: utils.get_color_from_hex("#0390bb")
            font_size: self.width/20
        Label:
            text: "Columns of 1st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.83}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.8}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.67}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix1
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.65}
            size_hint: 0.4, 0.06

        Label:
            text: "Columns of 2st Matrix: "
            size_hint: 0.4, .12
            pos_hint: {"x": 0.15, "top": 0.53}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: colsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.5}
            size_hint: 0.4, 0.06

        Label:
            text: "Rows of 1st Matrix: "
            size_hint: 0.4, .1
            pos_hint: {"x": 0.17, "top": 0.37}
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4

        TextInput:
            id: rowsMatrix2
            font_size: (root.width ** 2 + root.height ** 2) / 15 ** 4
            multiline: False
            pos_hint: {"x": 0.5, "top": 0.35}
            size_hint: 0.4, 0.06
            
        Button: 
            text: "Go Back"
            size_hint: 0.2, 0.2
            on_release: 
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Button: 
            text: "Go!"
            size_hint: 0.2, 0.2
            pos_hint: {"x": 0.8}
            on_press: root.makeMultGrid()
            on_release: 
                app.root.current = "last"
                root.manager.transition.direction = "left"
    
<ThirdWindow>
    name: "last"
    Button: 
        text: "Go Back"
        size_hint: 0.2, 0.2
        on_release: 
            app.root.current = "main"
            root.manager.transition.direction = "right"

    Button: 
        text: "Done"
        size_hint: 0.2, 0.2
        pos_hint: {"x": 0.8}
        on_release: 
            app.root.current = "main"
            root.manager.transition.direction = "right"